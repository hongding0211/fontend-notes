# useEffect

### Concepts

Ëé∑ÂèñÊï∞ÊçÆ„ÄÅËÆæÁΩÆËÆ¢ÈòÖ„ÄÅ‰øÆÊîπÁªÑ‰ª∂ÈÉΩÂ±û‰∫éÂâØ‰ΩúÁî®„ÄÇ

ÂèØ‰ª•Êää `useEffect()` ÁúãÂÅöÊòØ `componentDidMount`Ôºå`componentDidUpdate` Âíå `componentWillUnmount` Ëøô‰∏â‰∏™ÂáΩÊï∞ÁöÑÁªÑÂêà„ÄÇ

* `useEffect()` ‰º†ÂÖ•ÁöÑÂáΩÊï∞‰∏≠ÊâßË°åÁöÑÂÜÖÂÆπÔºåÁ±ª‰ºº‰∫é‰∫é `componentDidMount` Âíå `componentDidUpdate`
* `useEffect()` ‰º†ÂÖ•ÁöÑÂáΩÊï∞ËøîÂõûÁöÑÂè¶‰∏Ä‰∏™ÂáΩÊï∞ÔºåÁ±ª‰ºº‰∫é `componentWillUnmount`

#### ‰∏∫‰ªÄ‰πàË¶ÅËûçÂêàËøô‰∏â‰∏™ÂáΩÊï∞Ôºü

* ÂæàÂ§öÊó∂ÂÄô componentDidMount Âíå componentDidUpdate ÂÜÖÈÉ®ÊâßË°åÁöÑÈÄªËæëÊòØÁõ∏ÂêåÁöÑÔºåÁªÑ‰ª∂Âú®È¶ñÊ¨°ÂíåÂêéÁª≠Êõ¥Êñ∞‰∏≠ÈÉΩÈúÄË¶ÅÊâßË°åÊüê‰∏Ä EffectÔºåËÄå‰ª£Á†ÅÂç¥Ê≤°ÊúâË¢´Â§çÁî®„ÄÇ
* componentDidMount Âíå componentWillUnmount ÂÖ∂ÂÆû‰πüÊòØÂØπÂ∫îÁöÑÔºåÂú®ÁªÑ‰ª∂ÊåÇËΩΩÊó∂ÊâßË°å‰∫ÜÊüê‰∏ÄÂâØ‰ΩúÁî®ÔºàÂ¶ÇÊ∂àÊÅØËÆ¢ÈòÖÔºâÔºåÂú®Âç∏ËΩΩ‰πãÂâç‰πüÂ∫îËØ•Ë¥üË¥£Ê∏ÖÈô§„ÄÇ

### ÊâßË°å Effect

ÈÄöËøá `useEffect()` ÂèØ‰ª•ËÆ© React **Âú®Ê∏≤ÊüìÂêéÊâßË°åÊüê‰∫õÊìç‰Ωú**„ÄÇ

> React ‰øùËØÅÊØèÊ¨°ËøêË°å Effect Êó∂ÔºåDOM Â∑≤ÁªèÊõ¥Êñ∞ÂÆåÊØï

ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºà‰∏ç‰º†ÂÖ•Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºâÔºåÈ¶ñÊ¨°Ê∏≤ÊüìÂíåÊâÄÊúâÈáçÊ∏≤ÈÉΩ‰ºöÊâßË°åËøô‰∏™ Effect„ÄÇ

### È¢ùÂ§ñÈúÄË¶ÅÊ∏ÖÈô§ Effect

Êúâ‰∫õÊÉÖÂÜµÔºåÂ¶ÇËÆæÁΩÆ‰∫ÜÊ∂àÊÅØËÆ¢ÈòÖÔºåËøô‰∫õ Effect ÈúÄË¶ÅË¢´ÂèäÊó∂Ê∏ÖÈô§„ÄÇ

ÊØîÂ¶ÇÂú® Class ÁªÑ‰ª∂‰∏≠Ôºå‰∏ÄËà¨Âú® componentDidMount ‰∏≠ËÆ¢ÈòÖÔºåÂπ∂‰∏îÂú® componentWillUnmount ‰∏≠Ê∏ÖÈô§Ëøô‰∏™ËÆ¢ÈòÖ„ÄÇ

#### Usage

ÈÄöËøá return ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊù•Âú®ÁªÑ‰ª∂Âç∏ËΩΩÁöÑÊó∂ÂÄôÊâßË°åÊ∏ÖÈô§Êìç‰Ωú„ÄÇ

> ‚ö†Ô∏è ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºöÊ∏ÖÈô§ÂáΩÊï∞ËôΩÁÑ∂Á±ª‰ºº‰∫é `componentWillUnmount`Ôºå‰ΩÜÊúâÂæàÂ§ßÁöÑÂå∫Âà´„ÄÇ
>
> **Ê∏ÖÈô§ÂáΩÊï∞Âú®ÊØèÊ¨°ÈáçÊ∏≤ÊüìÊó∂ÈÉΩ‰ºöÊâßË°å**ÔºåËÄå‰∏çÂêå‰∫é `componentWillUnmount`ÔºåÂè™‰ºöÂú®ÊúÄÂêéÂç∏ËΩΩÊó∂ÊâßË°å„ÄÇ

**`useEffect()`Âú®Ë∞ÉÁî®‰∏Ä‰∏™Êñ∞ÁöÑ Effect ‰πãÂâç‰ºöÂØπÂâç‰∏Ä‰∏™ Effect ËøõË°åÊ∏ÖÁêÜÔºö**

```jsx
// Mount with { friend: { id: 100 } } props
ChatAPI.subscribeToFriendStatus(100, handleStatusChange);     // ËøêË°åÁ¨¨‰∏Ä‰∏™ effect

// Update with { friend: { id: 200 } } props
ChatAPI.unsubscribeFromFriendStatus(100, handleStatusChange); // Ê∏ÖÈô§‰∏ä‰∏Ä‰∏™ effect
ChatAPI.subscribeToFriendStatus(200, handleStatusChange);     // ËøêË°å‰∏ã‰∏Ä‰∏™ effect

// Update with { friend: { id: 300 } } props
ChatAPI.unsubscribeFromFriendStatus(200, handleStatusChange); // Ê∏ÖÈô§‰∏ä‰∏Ä‰∏™ effect
ChatAPI.subscribeToFriendStatus(300, handleStatusChange);     // ËøêË°å‰∏ã‰∏Ä‰∏™ effect

// Unmount
ChatAPI.unsubscribeFromFriendStatus(300, handleStatusChange); // Ê∏ÖÈô§ÊúÄÂêé‰∏Ä‰∏™ effect
```

#### ‰∏∫‰ªÄ‰πàË¶ÅÂú®ÊØèÊ¨°ÈáçÊ∏≤Êó∂ÊâßË°å‰∏ÄÊ¨° Effect Ôºü

* Âõ†‰∏∫ÂæàÂ§öÊó∂ÂÄôÁöÑÈÄªËæëÊòØÈúÄË¶ÅÂú®È¶ñÊ¨°ÊåÇËΩΩÂíåÊõ¥Êñ∞ÂêéÈÉΩÈúÄË¶ÅÊâßË°åÁöÑ„ÄÇ
* Âú®ÈáçÊ∏≤ÊüìÊó∂ÔºåËøòËÉΩÂØπ‰∏ä‰∏ÄÊ¨°ÁöÑ Effect ÂÅö‰∏ÄÊ¨°Ê≠£Á°ÆÊ∏ÖÈô§„ÄÇ

### Ë∑≥Ëøá‰∏çÊâßË°å Effect

`useEffect()` Á¨¨‰∫å‰∏™ÂèÇÊï∞ÂèØÊé•Âèó‰∏Ä‰∏™Êï∞ÁªÑÔºåÊù•ÊéßÂà∂ÊòØÂê¶ÊâßË°å Effect„ÄÇ

* Â¶ÇÊûú‰º†ÂÖ•‰∏Ä‰∏™Á©∫Êï∞ÁªÑÔºåÂè™‰ºöÂú®È¶ñÊ¨°ÊåÇËΩΩÂêéËøêË°å„ÄÇ
* Â¶ÇÊûú‰º†ÂÖ•ÈùûÁ©∫Êï∞ÁªÑÔºåÈÇ£‰πàÂè™ÊúâÂú®Êï∞ÁªÑ‰∏≠ÁöÑÊüê‰∏ÄÂÖÉÁ¥†ÂèëÁîüÂèòÂåñÊó∂ÔºåÊâç‰ºöÂÜçÊ¨°ÊâßË°å Effect„ÄÇ

```jsx
// Âè™‰ºöÂú®È¶ñÊ¨°Ê∏≤ÊüìÂêéÊâßË°å
useEffect(()=> ..., [])
```

### ‰ΩøÁî® async

Âú® `useEffect()` ÂÜÖÊâßË°å aysnc ÂáΩÊï∞‰ºöÂØºËá¥ÈóÆÈ¢ò„ÄÇ

Âõ†‰∏∫ async ‰ºöÈöêÂºèÁöÑËøîÂõû‰∏Ä‰∏™ Promise ÂØπË±°ÔºåËÄå `useEffect()` Êé•ÂèóÁöÑËøô‰∏™ÂáΩÊï∞Ë¶Å‰πà‰∏çËøîÂõûÂÜÖÂÆπÔºåË¶Å‰πàÂè™ËÉΩËøîÂõû‰∏Ä‰∏™Ê∏ÖÈô§ÂáΩÊï∞„ÄÇ

> üîπ async ÂáΩÊï∞‰ºöÂ∞Ü‰ªñÁöÑËøîÂõûÂÄºÂåÖË£ÖÊàê‰∏Ä‰∏™ resolve ÁöÑ Promise ÂØπË±°ÔºàÊ≤°ÊúâËøîÂõûÂÄºÂàôÂåÖË£Ö‰∏Ä‰∏™ undefinedÔºâ„ÄÇÂ¶ÇÊûúÊçïËé∑Âà∞‰∫ÜÂºÇÂ∏∏ÔºåÂàôÂåÖË£ÖÊàê‰∏Ä‰∏™ reject Promise„ÄÇ

#### Ëß£ÂÜ≥ÊñπÊ≥ï

‰∏çË¶ÅÁõ¥Êé•‰º†ÂÖ•‰∏Ä‰∏™ async ÂáΩÊï∞ÔºåËÄåÊòØ‰º†ÂÖ•‰∏Ä‰∏™ÂêåÊ≠•ÊñπÊ≥ïÔºåÂú®ÂÜÖÈÉ®ÊâßË°å async ÂáΩÊï∞„ÄÇ

```jsx
useEffect(() => {
    async function fetchData() {
        // ÂºÇÊ≠•Êìç‰Ωú...
    }
    
    fetchData()
})
```
